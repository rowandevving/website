---
import Nav from '../components/Nav.astro';
import ThemeSwitcher from '../components/ThemeSwitcher.astro';

const { title } = Astro.props

const icons = {
  home: "i-lucide-home"
}
---
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>{title} ~ rowan</title>
    <link rel="icon" id="favicon">
  </head>

  <body class="bg-light_base dark:bg-dark_base position-relative font-sans text-light_text dark:text-dark_text">
    <div class="h-auto m-0 flex">
      <div class="h-screen top-0 left-0 position-fixed w-20% border-r-1 border-light_1 dark:border-dark_1 pattern">
      </div>
      <div class="ml-20% h-screen">
        <div class="sticky h-20 z-10 top-0 border-b-1 border-light_1 dark:border-dark_1 relative">
          <div id="overlay" class="w-full z-0 h-full pointer-events-none backdrop-blur-12px absolute top-0 left-0 noise">
          </div>
          <div class="container pl-15 p-5 pr-7 flex justify-between items-center">
            <Nav icons={icons} />
            <ThemeSwitcher />
          </div>
        </div>
        <div class="w-3/5 h-full p-15 relative">
          <div class="pt-20">
            <slot/>
          </div>
        </div>
      </div>
    </div>
  </body>
  <style is:global>
    .pattern {
      background-image: url("data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='30' height='30' patternTransform='scale(2) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='hsla(220, 23%, 95%, 1)'/><path d='M18.35 0l-.03 1.67L20 0zm3.3 0l-3.33 3.33.03 1.67 3.33-3.33zm.03 3.33l-3.36 3.34v1.66L21.65 5zm0 3.34L18.35 10l-.03 1.68 3.36-3.35zM21.65 10l-3.33 3.32.03 1.68 3.33-3.32zm.03 3.32l-3.36 3.36v1.64L21.65 15zm-3.36 5L15 21.65l1.68.03L18.35 20l-.03 1.68 1.68-.03-1.68 1.68.03 1.67 3.33-3.32-.03-1.68 1.68-1.68h-1.65v-1.64L20 18.35zm3.36 3.36h1.65l3.34-3.36-1.67.03zM3.33 18.32l-1.68.03L0 20v1.65zm3.34 0L5 18.35l-3.33 3.33h1.66zm1.66 0L5 21.65l1.67.03L10 18.35zm3.35 0l-3.35 3.36 1.67-.03 3.32-3.33zm5 0l-1.68.03-3.32 3.33h1.64zm11.65 0L25 21.65l1.67.03L30 18.35zM30 20l-1.67 1.68 1.67-.03zm-8.32 3.33l-3.36 3.34v1.66L21.65 25zm0 3.34L18.35 30H20l1.68-1.67z'  stroke-width='1' stroke='none' fill='hsla(225, 14%, 77%, 1)'/><path d='M10 30v-1.65L8.35 30zm-3.35 0L10 26.65V25l-5 5zM10 15L0 25v1.65l10-10zm0 3.35l-10 10V30l10-10zM3.35 30L10 23.35v-1.7L1.65 30zM5 10l-5 5v1.65L6.65 10zm-3.35 0L0 11.65v1.7L3.35 10zM10 10H8.35L0 18.35V20zm0 1.65l-10 10v1.7l10-10zM10 0v10H0V0h10v1.65L11.65 0M20 6.65L16.65 10h1.7L20 8.35 28.35 0h-1.7zM23.35 0L20 3.35 13.35 10H15l5-5 5-5zM30 0L20 10h1.65L30 1.65zm-1.65 10L30 8.35v-1.7L26.65 10zM25 10l5-5V3.35L23.35 10zM16.65 0L10 6.65v1.7L18.35 0zM20 1.65L21.65 0H20L10 10h1.65zM15 0h-1.65L10 3.35V5z'  stroke-width='1' stroke='none' fill='hsla(223, 16%, 83%, 1)'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>")
    }
    .dark .pattern {
      background-image: url("data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='30' height='30' patternTransform='scale(2) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='hsla(232, 23%, 18%, 1)'/><path d='M18.35 0l-.03 1.67L20 0zm3.3 0l-3.33 3.33.03 1.67 3.33-3.33zm.03 3.33l-3.36 3.34v1.66L21.65 5zm0 3.34L18.35 10l-.03 1.68 3.36-3.35zM21.65 10l-3.33 3.32.03 1.68 3.33-3.32zm.03 3.32l-3.36 3.36v1.64L21.65 15zm-3.36 5L15 21.65l1.68.03L18.35 20l-.03 1.68 1.68-.03-1.68 1.68.03 1.67 3.33-3.32-.03-1.68 1.68-1.68h-1.65v-1.64L20 18.35zm3.36 3.36h1.65l3.34-3.36-1.67.03zM3.33 18.32l-1.68.03L0 20v1.65zm3.34 0L5 18.35l-3.33 3.33h1.66zm1.66 0L5 21.65l1.67.03L10 18.35zm3.35 0l-3.35 3.36 1.67-.03 3.32-3.33zm5 0l-1.68.03-3.32 3.33h1.64zm11.65 0L25 21.65l1.67.03L30 18.35zM30 20l-1.67 1.68 1.67-.03zm-8.32 3.33l-3.36 3.34v1.66L21.65 25zm0 3.34L18.35 30H20l1.68-1.67z'  stroke-width='1' stroke='none' fill='hsla(231, 16%, 34%, 1)'/><path d='M10 30v-1.65L8.35 30zm-3.35 0L10 26.65V25l-5 5zM10 15L0 25v1.65l10-10zm0 3.35l-10 10V30l10-10zM3.35 30L10 23.35v-1.7L1.65 30zM5 10l-5 5v1.65L6.65 10zm-3.35 0L0 11.65v1.7L3.35 10zM10 10H8.35L0 18.35V20zm0 1.65l-10 10v1.7l10-10zM10 0v10H0V0h10v1.65L11.65 0M20 6.65L16.65 10h1.7L20 8.35 28.35 0h-1.7zM23.35 0L20 3.35 13.35 10H15l5-5 5-5zM30 0L20 10h1.65L30 1.65zm-1.65 10L30 8.35v-1.7L26.65 10zM25 10l5-5V3.35L23.35 10zM16.65 0L10 6.65v1.7L18.35 0zM20 1.65L21.65 0H20L10 10h1.65zM15 0h-1.65L10 3.35V5z'  stroke-width='1' stroke='none' fill='hsla(230, 19%, 26%, 1)'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>")
    }

    .dark {
      color-scheme: dark;
    }

    .noise {
      --lines: 0.0001px;
  
      background: repeating-radial-gradient(
      circle at center,
      #eff1f5,
      var(--lines),
      #eff1f5,
      0,
      #0000,
      calc(var(--lines) * 3),
      #0000 0
      );

      background-size: 60%;
    }

    .dark .noise {
      background: repeating-radial-gradient(
      circle at center,
      #24273a,
      var(--lines),
      #24273a,
      0,
      #0000,
      calc(var(--lines) * 3),
      #0000 0
      );
    }
  </style>
  <script is:inline>

    const overlay = document.getElementById("overlay")
    window.addEventListener("scroll", () => {
      size = Math.floor(Math.random() * (60 - 10) + 10);
      overlay.style.setProperty("background-size", `${size}%`)
    });
  </script>
</html>